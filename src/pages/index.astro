---
import ClubInformation from "@/components/ClubInformation.astro";
import Layout from "@layouts/Layout.astro";

import { getCollection } from "astro:content";
import FeaturedBooks from "@/components/FeaturedBooks.astro";
import HeroSection from "@/components/HeroSection";

const books = await getCollection("books");

const lastBook = books.sort((a, b) => {
  return Number(b.data.week) - Number(a.data.week);
})[0];
---

<Layout title="Club de Lectura - UNPRG" lang="es-PE">
  <HeroSection client:load />
  <ClubInformation book={lastBook} />
  <FeaturedBooks books={books} />
</Layout>
